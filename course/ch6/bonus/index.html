
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../write/">
      
      
        <link rel="next" href="../../ch7/part1/">
      
      
      <link rel="icon" href="../../assets/_favicon.svg">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.27">
    
    
      
        <title>6.B - Bonus content - APL MOOC</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CAPL385:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"APL385"}</style>
      
    
    
      <link rel="stylesheet" href="../../../styles/main.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="purple" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#bonus-content-minesweeper-in-apl-and-python" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="APL MOOC" class="md-header__button md-logo" aria-label="APL MOOC" data-md-component="logo">
      
  <img src="../../assets/_apl.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            APL MOOC
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              6.B - Bonus content
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="purple" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../ch0/part1/" class="md-tabs__link">
          
  
  Course

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../progress/" class="md-tabs__link">
        
  
    
  
  Progress

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../login/" class="md-tabs__link">
        
  
    
  
  Log in

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="APL MOOC" class="md-nav__button md-logo" aria-label="APL MOOC" data-md-component="logo">
      
  <img src="../../assets/_apl.svg" alt="logo">

    </a>
    APL MOOC
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Course
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Course
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    0 - The wonderful world of APL
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            0 - The wonderful world of APL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch0/part1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.1 - Quirky and different
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch0/part2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.2 - What's the big idea?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch0/part3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.3 - Useful resources
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch0/part4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.4 - About the course
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    1 - Getting your toes wet
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            1 - Getting your toes wet
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch1/part1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.1 - Immediate execution mode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch1/part2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.2 - Basic operations and input
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch1/part3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.3 - How do I type these characters?!?!?!?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch1/part4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.4 - Order of execution
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch1/part5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.5 - When things go wrong
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch1/summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.S - Summary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch1/read/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.R - Read exercises
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch1/write/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.W - Write exercises
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    2 - Array programming
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            2 - Array programming
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch2/part1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.1 - Assignment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch2/part2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.2 - Vectors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch2/part3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.3 - Arithmetic operations on vectors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch2/part4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.4 - Higher dimensional space
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch2/part5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.5 - Shape
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch2/part6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.6 - Nested arrays
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch2/summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.S - Summary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch2/read/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.R - Read exercises
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch2/write/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.W - Write exercises
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    3 - Functions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            3 - Functions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch3/part1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.1 - Fun for everyone
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch3/part2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.2 - All the math
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch3/part3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.3 - Relational functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch3/part4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.4 - Logical functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch3/part5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.5 - Quad functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch3/part6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.6 - Installing Dyalog
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch3/part7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.7 - Traditional fun
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch3/part8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.8 - Fun(Fun(Fun(Fun(Fun(...)))))
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch3/part9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.9 - ALL ABOARD!
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch3/summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.S - Summary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch3/read/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.R - Read exercises
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch3/write/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.W - Write exercises
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch3/bonus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.B - Bonus content
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    4 - Vector functions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            4 - Vector functions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch4/part1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.1 - Creating vectors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch4/part2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.2 - Reductions and scans
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch4/part3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.3 - Selecting from a vector
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch4/part4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.4 - Order from chaos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch4/part5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.5 - I'm in Spain without the "a"
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch4/part6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.6 - Searching
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch4/part7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.7 - Elements of set theory
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch4/summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.S - Summary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch4/read/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.R - Read exercises
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch4/write/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.W - Write exercises
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch4/bonus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.B - Bonus content
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    5 - Higher dimensions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            5 - Higher dimensions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch5/part1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.1 - Choose your axis!
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch5/part2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.2 - Anything can be a scalar
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch5/part3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.3 - (Un)matrixification
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch5/part4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.4 - Selections and reductions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch5/part5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.5 - Cross-tabulation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch5/summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.S - Summary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch5/read/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.R - Read exercises
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch5/write/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.W - Write exercises
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch5/bonus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.B - Bonus content
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" checked>
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    6 - Everything else you need to know
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            6 - Everything else you need to know
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.1 - String manipulation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.2 - Inner and outer products
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.3 - Encoding and decoding
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.4 - Operators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.5 - Choo choo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.S - Summary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../read/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.R - Read exercises
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../write/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.W - Write exercises
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    6.B - Bonus content
  </span>
  

      </a>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8" >
        
          
          <label class="md-nav__link" for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    7 - Programming in APL
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            7 - Programming in APL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch7/part1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.1 - Development environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch7/part2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.2 - Branching and looping
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch7/part3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.3 - Execute and format
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch7/part4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.4 - Writing interactive programs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch7/part5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.5 - File I/O
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch7/part6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.6 - External libraries
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch7/summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.S - Summary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch7/project/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.P - Programming project
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../progress/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Progress
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../login/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Log in
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="bonus-content-minesweeper-in-apl-and-python">Bonus content: Minesweeper in APL and Python</h1>
<div class="admonition tip">
<p class="admonition-title">This part is optional</p>
<p>This part is considered to be bonus content.
It contains some more advanced topics that are not covered in the main course.
It can also give some examples of functions and topics that are introuced later in the course.
There are no exercises related to this content.</p>
<p>Feel free to skim or skip this section for now, and return to it later!</p>
</div>
<hr />
<p>One of the central advantages of APL over other programming languages is that it provides a powerful notation for reasoning about higher dimensional data. When writing code in other languages, there are times where using this notation would simplify code significantly, and luckily, APL code can be used in Python programs, and vice versa, using the Py'n'APL interface. </p>
<p>In this section, we will write a simple minesweeper game in APL, using Py'n'APL to connect to a user interface written in Python.</p>
<p>The Py'n'APL interface can be downloaded from the Dyalog repository. To start, create a python file inside the same directory as <code>pynapl</code>, and paste the following example code.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pynapl</span> <span class="kn">import</span> <span class="n">APL</span>
<span class="n">apl</span> <span class="o">=</span> <span class="n">APL</span><span class="o">.</span><span class="n">APL</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;3 3⍴∆&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>

<span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;a ← ∆&quot;</span><span class="p">,</span> <span class="mi">57</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;a÷3&quot;</span><span class="p">))</span>
</code></pre></div>
<p>The output should be <code>[[1, 2, 3], [4, 5, 6], [7, 8, 9]]</code> and <code>[19]</code>.</p>
<p>The above code starts and connects to a Dyalog session. The session can then be sent commands using the <code>eval</code> function. Extra arguments to the eval function are substituted for <code>∆</code> in the eval expression; above, the arguments <code>1, 2, 3, 4, 5, 6, 7, 8, 9</code> are passed as an array replacing <code>∆</code> in <code>3 3⍴∆</code>.</p>
<p>The Dyalog session should be thought of like any other session, with its own variables.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pynapl</span> <span class="kn">import</span> <span class="n">APL</span>
<span class="n">apl</span> <span class="o">=</span> <span class="n">APL</span><span class="o">.</span><span class="n">APL</span><span class="p">()</span>

<span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;a ← ⍳3 3&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">))</span>
</code></pre></div>
<p>The result should be <code>[[[1, 1], [1, 2], [1, 3]], [[2, 1], [2, 2], [2, 3]], [[3, 1], [3, 2], [3, 3]]]</code>.</p>
<p>APL functions can be defined using the <code>apl.fn</code> function which, if assigned in Python, can be used like any other Python function.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pynapl</span> <span class="kn">import</span> <span class="n">APL</span>
<span class="n">apl</span> <span class="o">=</span> <span class="n">APL</span><span class="o">.</span><span class="n">APL</span><span class="p">()</span>

<span class="n">average</span> <span class="o">=</span> <span class="n">apl</span><span class="o">.</span><span class="n">fn</span><span class="p">(</span><span class="s2">&quot;+/÷≢&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">average</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]))</span>
</code></pre></div>
<p>The result is 3.</p>
<p>To define functions in APL, <code>fix</code> is used rather than than the <code>eval</code>.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pynapl</span> <span class="kn">import</span> <span class="n">APL</span>
<span class="n">apl</span> <span class="o">=</span> <span class="n">APL</span><span class="o">.</span><span class="n">APL</span><span class="p">()</span>

<span class="n">apl</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="s2">&quot;average ← +/÷≢&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;average 1 2 3 4 5&quot;</span><span class="p">))</span>
</code></pre></div>
<p>The result is 3.</p>
<p>Minesweeper is a logic game, where the goal is to find out the location of all hidden 'mines' on a board. The size of the board and number of mines vary depending on difficulty; here we will implement a rectangular board of width 30 and height 16, with 99 mines. </p>
<p>When the user left-clicks on a tile that does not contain a mine on the board, that tile is uncovered. Uncovered tiles display the total number of mines that are in adjacent tiles (including diagonals!). If the tile has no adjacent mines, then it reveals the adjacent tiles automatically. If the user left-clicks on a tile containing a mine, the game is lost and the mines are detonated.
If the user right-clicks on a tile, that tile is flagged, representing where the user believes a mine is. </p>
<p>The game is won when all hidden mine tiles are flagged, and all other tiles are uncovered.</p>
<p>We recommend the reader to play at-least one game of minesweeper, in order to get familiar with the rules we will implement.</p>
<p>We first need to create the board, which will be represented with a 2D matrix of values, 1 being mine and 0 a blank tile. </p>
<div class="highlight"><pre><span></span><code><span class="w">       </span><span class="nv">board</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="m">16</span><span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="o">⍴</span><span class="w"> </span><span class="m">0</span>
</code></pre></div>
<p>Random unique positions for the mines can be obtained using deal ? dyadic function.</p>
<div class="highlight"><pre><span></span><code><span class="w">       </span><span class="m">99</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="m">16</span><span class="o">×</span><span class="m">30</span>
<span class="m">215</span><span class="w"> </span><span class="m">385</span><span class="w"> </span><span class="m">164</span><span class="w"> </span><span class="m">68</span><span class="w"> </span><span class="m">310</span><span class="w"> </span><span class="m">453</span><span class="w"> </span><span class="m">255</span><span class="w"> </span><span class="m">115</span><span class="w"> </span><span class="m">28</span><span class="w"> </span><span class="m">234</span><span class="w"> </span><span class="m">239</span><span class="w"> </span><span class="m">456</span><span class="w"> </span><span class="m">243</span><span class="w"> </span><span class="m">39</span><span class="w"> </span><span class="m">302</span><span class="w"> </span><span class="m">447</span><span class="w"> </span><span class="m">263</span><span class="w"> </span><span class="m">383</span><span class="w"> </span><span class="m">94</span><span class="w"> </span><span class="m">236</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">337</span><span class="w"> </span><span class="m">35</span><span class="w"> </span><span class="m">98</span><span class="w"> </span><span class="m">432</span><span class="w"> </span><span class="m">127</span><span class="w"> </span><span class="m">403</span><span class="w"> </span><span class="m">431</span><span class="w"> </span><span class="m">408</span><span class="w"> </span><span class="m">237</span><span class="w"> </span><span class="m">356</span><span class="w"> </span><span class="m">330</span><span class="w"> </span><span class="m">2</span>
<span class="w">      </span><span class="m">30</span><span class="w"> </span><span class="m">201</span><span class="w"> </span><span class="m">351</span><span class="w"> </span><span class="m">438</span><span class="w"> </span><span class="m">130</span><span class="w"> </span><span class="m">377</span><span class="w"> </span><span class="m">434</span><span class="w"> </span><span class="m">71</span><span class="w"> </span><span class="m">258</span><span class="w"> </span><span class="m">34</span><span class="w"> </span><span class="m">13</span><span class="w"> </span><span class="m">312</span><span class="w"> </span><span class="m">55</span><span class="w"> </span><span class="m">62</span><span class="w"> </span><span class="m">95</span><span class="w"> </span><span class="m">137</span><span class="w"> </span><span class="m">382</span><span class="w"> </span><span class="m">387</span><span class="w"> </span><span class="m">154</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">66</span><span class="w"> </span><span class="m">427</span><span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">257</span><span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="m">70</span><span class="w"> </span><span class="m">113</span><span class="w"> </span><span class="m">304</span><span class="w"> </span><span class="m">283</span><span class="w"> </span><span class="m">50</span><span class="w"> </span><span class="m">180</span><span class="w"> </span><span class="m">207</span><span class="w"> </span><span class="m">22</span>
<span class="w">      </span><span class="m">7</span><span class="w"> </span><span class="m">77</span><span class="w"> </span><span class="m">333</span><span class="w"> </span><span class="m">409</span><span class="w"> </span><span class="m">53</span><span class="w"> </span><span class="m">369</span><span class="w"> </span><span class="m">473</span><span class="w"> </span><span class="m">428</span><span class="w"> </span><span class="m">266</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="m">24</span><span class="w"> </span><span class="m">297</span><span class="w"> </span><span class="m">323</span><span class="w"> </span><span class="m">424</span><span class="w"> </span><span class="m">309</span><span class="w"> </span><span class="m">276</span><span class="w"> </span><span class="m">160</span><span class="w"> </span><span class="m">170</span><span class="w"> </span><span class="m">110</span><span class="w"> </span><span class="m">460</span><span class="w"> </span><span class="m">459</span><span class="w"> </span><span class="m">184</span><span class="w"> </span><span class="m">376</span><span class="w"> </span><span class="m">364</span><span class="w"> </span><span class="m">268</span><span class="w"> </span><span class="m">256</span><span class="w"> </span><span class="m">328</span><span class="w"> </span><span class="m">305</span><span class="w"> </span><span class="m">174</span><span class="w"> </span><span class="m">196</span><span class="w"> </span><span class="m">6</span>
<span class="w">      </span><span class="m">0</span><span class="w"> </span><span class="m">359</span><span class="w"> </span><span class="m">350</span><span class="w"> </span><span class="m">396</span><span class="w"> </span><span class="m">6</span>
</code></pre></div>
<p>it is possible to see which 2D positions these numbers encode using the encode <code>⊤</code> function</p>
<div class="highlight"><pre><span></span><code><span class="w">       </span><span class="p">(</span><span class="m">16</span><span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="o">⊤</span><span class="w"> </span><span class="p">(</span><span class="m">99</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="m">16</span><span class="o">×</span><span class="m">30</span><span class="p">))</span>
<span class="w"> </span><span class="m">8</span><span class="w"> </span><span class="m">10</span><span class="w">  </span><span class="m">8</span><span class="w"> </span><span class="m">13</span><span class="w"> </span><span class="m">8</span><span class="w">  </span><span class="m">4</span><span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="m">14</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">10</span><span class="w">  </span><span class="m">4</span><span class="w">  </span><span class="m">1</span><span class="w"> </span><span class="m">11</span><span class="w">  </span><span class="m">9</span><span class="w">  </span><span class="m">5</span><span class="w">  </span><span class="m">6</span><span class="w"> </span><span class="m">9</span><span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">10</span><span class="w">  </span><span class="m">6</span><span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">14</span><span class="w"> </span><span class="m">14</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">12</span><span class="w">  </span><span class="m">5</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">10</span><span class="w">  </span><span class="m">5</span><span class="w"> </span><span class="m">15</span><span class="w"> </span><span class="m">14</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">11</span><span class="w">  </span><span class="m">5</span><span class="w"> </span><span class="m">2</span><span class="w">  </span><span class="m">0</span><span class="w"> </span><span class="m">14</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">9</span><span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="m">1</span>
<span class="m">17</span><span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">15</span><span class="w"> </span><span class="m">7</span><span class="w"> </span><span class="m">27</span><span class="w">  </span><span class="m">6</span><span class="w">  </span><span class="m">0</span><span class="w"> </span><span class="m">8</span><span class="w"> </span><span class="m">24</span><span class="w"> </span><span class="m">19</span><span class="w"> </span><span class="m">22</span><span class="w"> </span><span class="m">27</span><span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">23</span><span class="w"> </span><span class="m">7</span><span class="w"> </span><span class="m">18</span><span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">18</span><span class="w"> </span><span class="m">3</span><span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">9</span><span class="w">  </span><span class="m">5</span><span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">17</span><span class="w">  </span><span class="m">8</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">16</span><span class="w"> </span><span class="m">27</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">15</span><span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">24</span><span class="w"> </span><span class="m">19</span><span class="w"> </span><span class="m">19</span><span class="w"> </span><span class="m">26</span><span class="w">  </span><span class="m">0</span><span class="w">  </span>
<span class="w">       </span><span class="m">4</span><span class="w"> </span><span class="m">13</span><span class="w">  </span><span class="m">7</span><span class="w">  </span><span class="m">7</span><span class="w">  </span><span class="m">4</span><span class="w">  </span><span class="m">1</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">5</span><span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">12</span><span class="w">  </span><span class="m">9</span><span class="w"> </span><span class="m">14</span><span class="w"> </span><span class="m">14</span><span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">15</span><span class="w">  </span><span class="m">7</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">13</span><span class="w"> </span><span class="m">0</span><span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">8</span><span class="w">  </span><span class="m">4</span><span class="w"> </span><span class="m">15</span><span class="w">  </span><span class="m">2</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">13</span><span class="w"> </span><span class="m">11</span><span class="w">  </span><span class="m">8</span><span class="w"> </span><span class="m">15</span><span class="w"> </span><span class="m">15</span><span class="w"> </span><span class="m">13</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="m">1</span><span class="w">  </span><span class="m">4</span><span class="w"> </span>
<span class="w">       </span><span class="m">2</span><span class="w"> </span><span class="m">13</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">15</span><span class="w"> </span><span class="m">14</span><span class="w"> </span><span class="m">7</span><span class="w"> </span><span class="m">13</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">23</span><span class="w"> </span><span class="m">29</span><span class="w">  </span><span class="m">4</span><span class="w"> </span><span class="m">25</span><span class="w">  </span><span class="m">7</span><span class="w"> </span><span class="m">24</span><span class="w"> </span><span class="m">28</span><span class="w"> </span><span class="m">22</span><span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">8</span><span class="w">  </span><span class="m">4</span><span class="w"> </span><span class="m">7</span><span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">20</span><span class="w">  </span><span class="m">1</span><span class="w"> </span><span class="m">12</span><span class="w">  </span><span class="m">7</span><span class="w"> </span><span class="m">9</span><span class="w"> </span><span class="m">7</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">21</span><span class="w">  </span><span class="m">8</span><span class="w"> </span><span class="m">13</span><span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">27</span><span class="w"> </span><span class="m">1</span><span class="w">  </span><span class="m">1</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">14</span><span class="w"> </span>
<span class="w">       </span><span class="m">2</span><span class="w">  </span><span class="m">7</span><span class="w"> </span><span class="m">4</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">9</span><span class="w"> </span><span class="m">7</span><span class="w">  </span><span class="m">6</span><span class="w">  </span><span class="m">6</span><span class="w"> </span><span class="m">9</span><span class="w">  </span><span class="m">3</span><span class="w">  </span><span class="m">9</span><span class="w"> </span><span class="m">15</span><span class="w"> </span><span class="m">11</span>
<span class="w">       </span><span class="m">9</span><span class="w"> </span><span class="m">27</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="m">23</span><span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="m">21</span><span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">10</span><span class="w">  </span><span class="m">8</span><span class="w"> </span><span class="m">28</span>
<span class="w">       </span><span class="p">(</span><span class="m">16</span><span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="o">⊤</span><span class="w"> </span><span class="p">(</span><span class="m">99</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="m">16</span><span class="o">×</span><span class="m">30</span><span class="p">))</span><span class="sr">[;</span><span class="m">1</span><span class="sr">]</span>
<span class="m">7</span><span class="w"> </span><span class="m">27</span>
</code></pre></div>
<p>Assigning these positions to 1 on the board by (un)raveling the board into a vector, then using the <code>@</code> at operator</p>
<div class="highlight"><pre><span></span><code><span class="w">      </span><span class="nv">positions</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="m">99</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="m">16</span><span class="o">×</span><span class="m">30</span>
<span class="w">      </span><span class="nv">board</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="o">,</span><span class="nv">board</span>
<span class="w">      </span><span class="nv">board</span>
<span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>
<span class="w">      </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>
<span class="w">      </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>
<span class="w">      </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>
<span class="w">      </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>
<span class="w">      </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>
<span class="w">      </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>
<span class="w">      </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>
<span class="w">      </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
<span class="w">      </span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="na">@</span><span class="w"> </span><span class="nv">positions</span><span class="p">)</span><span class="w"> </span><span class="nv">board</span>
<span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>
<span class="w">      </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>
<span class="w">      </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>
<span class="w">      </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>
<span class="w">      </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>
<span class="w">      </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>
<span class="w">      </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>
<span class="w">      </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>
<span class="w">      </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span>
<span class="w">      </span><span class="nv">board</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="m">16</span><span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="o">⍴</span><span class="w"> </span><span class="nv">board</span>
</code></pre></div>
<p>Putting this operation in a single Python function</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pynapl</span> <span class="kn">import</span> <span class="n">APL</span>
<span class="n">apl</span> <span class="o">=</span> <span class="n">APL</span><span class="o">.</span><span class="n">APL</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">new_board</span><span class="p">():</span>
    <span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;board ←  (16×30) ⍴ 0&quot;</span><span class="p">)</span>
    <span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;board ← (1 @ (99 ? 16×30)) board&quot;</span><span class="p">)</span>
    <span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;board ← 16 30 ⍴ board&quot;</span><span class="p">)</span>

<span class="n">new_board</span><span class="p">();</span>
<span class="nb">print</span><span class="p">(</span><span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;board&quot;</span><span class="p">));</span>
<span class="c1"># The output is </span>
<span class="c1">#[[0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0], </span>
<span class="c1">#[1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1], </span>
<span class="c1">#[0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1], </span>
<span class="c1">#[0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0], </span>
<span class="c1">#[0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], </span>
<span class="c1">#[0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1], </span>
<span class="c1">#[0, 0, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1], </span>
<span class="c1">#[0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0], </span>
<span class="c1">#[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1], </span>
<span class="c1">#[0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1, 1, 0], </span>
<span class="c1">#[1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], </span>
<span class="c1">#[0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0], </span>
<span class="c1">#[0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0], </span>
<span class="c1">#[0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 1, 0, 0], </span>
<span class="c1">#[0, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0], </span>
<span class="c1">#[0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0]]</span>
</code></pre></div>
<p>Next, we need to obtain the number of adjacent mines for every tile on the board. Consider a 1-dimensional board first, for simplicity.</p>
<div class="highlight"><pre><span></span><code><span class="w">       </span><span class="nv">board</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">-</span><span class="na">⍨</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="m">7</span><span class="w"> </span><span class="o">⍴</span><span class="w"> </span><span class="m">2</span>
<span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span>
</code></pre></div>
<p>What is needed is a function that takes length 3 sections of the above board, and sums them up to give a new board of values.</p>
<div class="highlight"><pre><span></span><code><span class="w">       </span><span class="nv">adjacency</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="p">(</span><span class="m">0</span><span class="o">+</span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="m">0</span><span class="o">+</span><span class="m">1</span><span class="o">+</span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="m">1</span><span class="o">+</span><span class="m">1</span><span class="o">+</span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="m">1</span><span class="o">+</span><span class="m">1</span><span class="o">+</span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="m">1</span><span class="o">+</span><span class="m">0</span><span class="o">+</span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="m">0</span><span class="o">+</span><span class="m">1</span><span class="o">+</span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="m">1</span><span class="o">+</span><span class="m">1</span><span class="p">)</span>
</code></pre></div>
<p>This can be partly obtained using the / windowed reduction operator applied to + plus and a left argument of 3.</p>
<div class="highlight"><pre><span></span><code><span class="w">       </span><span class="m">3</span><span class="o">,</span><span class="na">/</span><span class="nv">board</span>
<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w">  </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w">  </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w">  </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w">  </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span>
<span class="w">       </span><span class="m">3</span><span class="o">+</span><span class="na">/</span><span class="nv">board</span>
<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">2</span>
</code></pre></div>
<p>Notice that the windowed reduction operator did not include the values at the left and right, <code>(0+1)</code> and <code>(1+1)</code>, edges of the board. This can be remedied by padding the board with zeroes on either side, the @ function can be used to do this.</p>
<div class="highlight"><pre><span></span><code><span class="w">      </span><span class="nv">board</span>
<span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span>
<span class="w">      </span><span class="o">⍴</span><span class="w"> </span><span class="nv">board</span>
<span class="m">7</span>
<span class="w">      </span><span class="o">⍳</span><span class="w"> </span><span class="o">⍴</span><span class="w"> </span><span class="nv">board</span>
<span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="m">7</span>
<span class="w">      </span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">⍳</span><span class="w"> </span><span class="o">⍴</span><span class="w"> </span><span class="nv">board</span>
<span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="m">7</span><span class="w"> </span><span class="m">8</span>

<span class="w">      </span><span class="p">((</span><span class="o">⍴</span><span class="w"> </span><span class="nv">board</span><span class="p">)</span><span class="o">+</span><span class="m">2</span><span class="p">)</span><span class="o">⍴</span><span class="m">0</span>
<span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>

<span class="w">      </span><span class="p">(</span><span class="nv">board</span><span class="na">@</span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">⍳</span><span class="w"> </span><span class="o">⍴</span><span class="w"> </span><span class="nv">board</span><span class="p">))((</span><span class="o">⍴</span><span class="w"> </span><span class="nv">board</span><span class="p">)</span><span class="o">+</span><span class="m">2</span><span class="p">)</span><span class="o">⍴</span><span class="m">0</span>
<span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span>

<span class="w">      </span><span class="m">3</span><span class="o">+</span><span class="na">/</span><span class="p">(</span><span class="nv">board</span><span class="na">@</span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">⍳</span><span class="w"> </span><span class="o">⍴</span><span class="w"> </span><span class="nv">board</span><span class="p">))((</span><span class="o">⍴</span><span class="w"> </span><span class="nv">board</span><span class="p">)</span><span class="o">+</span><span class="m">2</span><span class="p">)</span><span class="o">⍴</span><span class="m">0</span>
<span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">2</span>
</code></pre></div>
<p>The advantage of using the @ function is that it can be generalised to matrices, too.</p>
<div class="highlight"><pre><span></span><code><span class="w">      </span><span class="nv">board</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">⍴</span><span class="w"> </span><span class="m">1</span>
<span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span>
<span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span>
<span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span>
<span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span>
<span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span>
<span class="w">      </span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">⍳</span><span class="w"> </span><span class="o">⍴</span><span class="w"> </span><span class="nv">board</span>
<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">2</span><span class="w">  </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w">  </span><span class="m">2</span><span class="w"> </span><span class="m">4</span><span class="w">  </span><span class="m">2</span><span class="w"> </span><span class="m">5</span><span class="w">  </span><span class="m">2</span><span class="w"> </span><span class="m">6</span><span class="w"> </span>
<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">2</span><span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">3</span><span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">5</span><span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">6</span><span class="w"> </span>
<span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">2</span><span class="w">  </span><span class="m">4</span><span class="w"> </span><span class="m">3</span><span class="w">  </span><span class="m">4</span><span class="w"> </span><span class="m">4</span><span class="w">  </span><span class="m">4</span><span class="w"> </span><span class="m">5</span><span class="w">  </span><span class="m">4</span><span class="w"> </span><span class="m">6</span><span class="w"> </span>
<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">2</span><span class="w">  </span><span class="m">5</span><span class="w"> </span><span class="m">3</span><span class="w">  </span><span class="m">5</span><span class="w"> </span><span class="m">4</span><span class="w">  </span><span class="m">5</span><span class="w"> </span><span class="m">5</span><span class="w">  </span><span class="m">5</span><span class="w"> </span><span class="m">6</span><span class="w"> </span>
<span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="m">2</span><span class="w">  </span><span class="m">6</span><span class="w"> </span><span class="m">3</span><span class="w">  </span><span class="m">6</span><span class="w"> </span><span class="m">4</span><span class="w">  </span><span class="m">6</span><span class="w"> </span><span class="m">5</span><span class="w">  </span><span class="m">6</span><span class="w"> </span><span class="m">6</span>
<span class="w">      </span><span class="p">((</span><span class="o">⍴</span><span class="w"> </span><span class="nv">board</span><span class="p">)</span><span class="o">+</span><span class="m">2</span><span class="p">)</span><span class="o">⍴</span><span class="m">0</span>
<span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
<span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
<span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
<span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
<span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
<span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
<span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
<span class="w">      </span><span class="p">(</span><span class="nv">board</span><span class="na">@</span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">⍳</span><span class="w"> </span><span class="o">⍴</span><span class="w"> </span><span class="nv">board</span><span class="p">))((</span><span class="o">⍴</span><span class="w"> </span><span class="nv">board</span><span class="p">)</span><span class="o">+</span><span class="m">2</span><span class="p">)</span><span class="o">⍴</span><span class="m">0</span>
<span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
<span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span>
<span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span>
<span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span>
<span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span>
<span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span>
<span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
</code></pre></div>
<p>The 2-dimensional generalisation of the +/ windowed reduce function is the stencil <code>⌺</code> operator. The stencil operator takes in a right argument vector which specifies the size of the window, similarly to the left argument to the windowed reduce function, and a left argument which specifies the function to be applied to the window.</p>
<div class="highlight"><pre><span></span><code><span class="w">       </span><span class="nv">board</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="m">7</span><span class="w"> </span><span class="o">⍴</span><span class="w"> </span><span class="m">1</span>
<span class="w">       </span><span class="p">(</span><span class="kt">{</span><span class="o">⊂</span><span class="bp">⍵</span><span class="kt">}</span><span class="na">⌺</span><span class="m">3</span><span class="p">)</span><span class="nv">board</span>
<span class="err">┌─────┬─────┬─────┬─────┬─────┬─────┬─────┐</span>
<span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="err">│</span>
<span class="err">└─────┴─────┴─────┴─────┴─────┴─────┴─────┘</span>
</code></pre></div>
<p>Notice that it includes the edges, unlike the windowed reduce function.</p>
<div class="highlight"><pre><span></span><code><span class="w">      </span><span class="nv">board</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">⍴</span><span class="w"> </span><span class="m">1</span>
<span class="w">      </span><span class="p">(</span><span class="kt">{</span><span class="o">⊂</span><span class="bp">⍵</span><span class="kt">}</span><span class="na">⌺</span><span class="m">3</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="nv">board</span>
<span class="err">┌─────┬─────┬─────┬─────┬─────┐</span>
<span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="err">│</span>
<span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="err">│</span>
<span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="err">│</span>
<span class="err">├─────┼─────┼─────┼─────┼─────┤</span>
<span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="err">│</span>
<span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="err">│</span>
<span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="err">│</span>
<span class="err">├─────┼─────┼─────┼─────┼─────┤</span>
<span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="err">│</span>
<span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="err">│</span>
<span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="err">│</span>
<span class="err">├─────┼─────┼─────┼─────┼─────┤</span>
<span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="err">│</span>
<span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="err">│</span>
<span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="err">│</span>
<span class="err">├─────┼─────┼─────┼─────┼─────┤</span>
<span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="err">│</span>
<span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="err">│</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="err">│</span>
<span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="err">│</span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="err">│</span>
<span class="err">└─────┴─────┴─────┴─────┴─────┘</span>
<span class="w">      </span><span class="nv">board</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">-</span><span class="na">⍨</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">⍴</span><span class="w"> </span><span class="m">2</span>
<span class="w">      </span><span class="nv">board</span>
<span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
<span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span>
<span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span>
<span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span>
<span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span>
<span class="w">      </span><span class="p">(</span><span class="kt">{</span><span class="o">+</span><span class="na">/</span><span class="o">,</span><span class="bp">⍵</span><span class="kt">}</span><span class="na">⌺</span><span class="m">3</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="nv">board</span>
<span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">2</span>
<span class="m">2</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">3</span>
<span class="m">3</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="m">4</span>
<span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">3</span>
<span class="m">2</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">2</span>
</code></pre></div>
<p>Putting this in a python function</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">calculate_adjacency</span><span class="p">():</span>
  <span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;adjacency ← ({+/,⍵}⌺3 3)board&quot;</span><span class="p">)</span>
</code></pre></div>
<p>The last thing that is needed is a function to decide what happens when a tile is clicked. The first thing to implement is the uncovering of tiles. Whenever a tile that does not contain a mine is left-clicked, it is uncovered, and any tiles with no adjacent mines automatically uncover the adjacent tiles. We will use <code>¯1</code> to denote uncovered tiles on the board. For checking if the tile is a mine, we write a simple <code>is_mine</code> function that can be called from the Python code</p>
<div class="highlight"><pre><span></span><code><span class="w">      </span><span class="nv">is_mine</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="kt">{</span><span class="p">(</span><span class="bp">⍵</span><span class="o">⌷</span><span class="nv">board</span><span class="p">)</span><span class="o">=</span><span class="m">1</span><span class="kt">}</span>
<span class="w">      </span><span class="nv">board</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">-</span><span class="na">⍨</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">⍴</span><span class="w"> </span><span class="m">2</span>
<span class="w">      </span><span class="nv">board</span>
<span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span>
<span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span>
<span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span>
<span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span>
<span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
<span class="w">      </span><span class="nv">is_mine</span><span class="w"> </span><span class="o">⊂</span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="p">)</span>
<span class="m">1</span>
</code></pre></div>
<p>We will write the tile uncovering algorithm recursively. If the tile clicked does not have any adjacent mines, then the tiles adjacent to that tile are uncovered too, forming a list of tile positions to be uncovered in the process. This is the usual flood-fill algorithm. </p>
<p>The following function makes sure the indices we are checking are not beyond the bounds of the board matrix. </p>
<div class="highlight"><pre><span></span><code><span class="w">      </span><span class="nv">in_bounds</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="kt">{</span><span class="o">∧</span><span class="na">/</span><span class="o">∊</span><span class="p">(</span><span class="bp">⍵</span><span class="o">&lt;⍴</span><span class="nv">board</span><span class="p">)(</span><span class="bp">⍵</span><span class="o">&gt;</span><span class="p">(</span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="p">))</span><span class="kt">}</span>
</code></pre></div>
<p>For example, using the clearly invalid index <code>¯1 3</code>, it is less than the maximum index <code>⍴board</code>, but not greater than <code>(0 0)</code>.</p>
<div class="highlight"><pre><span></span><code><span class="w">       </span><span class="o">⍴</span><span class="nv">board</span>
<span class="m">5</span><span class="w"> </span><span class="m">5</span>

<span class="w">       </span><span class="m">¯1</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="o">⍴</span><span class="nv">board</span>
<span class="m">1</span><span class="w"> </span><span class="m">1</span>
<span class="w">       </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">¯1</span><span class="w"> </span><span class="m">3</span>
<span class="m">0</span><span class="w"> </span><span class="m">1</span>

<span class="w">       </span><span class="o">∊</span><span class="w"> </span><span class="p">(</span><span class="m">¯1</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="o">⍴</span><span class="nv">board</span><span class="p">)(</span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">¯1</span><span class="w"> </span><span class="m">3</span><span class="p">)</span>
<span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span>

<span class="w">       </span><span class="o">∧</span><span class="na">/</span><span class="o">∊</span><span class="w"> </span><span class="p">(</span><span class="m">¯1</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="o">⍴</span><span class="nv">board</span><span class="p">)(</span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">¯1</span><span class="w"> </span><span class="m">3</span><span class="p">)</span>
<span class="m">0</span>
<span class="w">       </span><span class="nv">in_bounds</span><span class="w"> </span><span class="m">¯1</span><span class="w"> </span><span class="m">3</span>
<span class="m">0</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="w">      </span><span class="nv">directions</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="p">)(</span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="p">)(</span><span class="m">¯1</span><span class="w"> </span><span class="m">0</span><span class="p">)(</span><span class="m">0</span><span class="w"> </span><span class="m">¯1</span><span class="p">)(</span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="p">)(</span><span class="m">¯1</span><span class="w"> </span><span class="m">¯1</span><span class="p">)(</span><span class="m">1</span><span class="w"> </span><span class="m">¯1</span><span class="p">)(</span><span class="m">¯1</span><span class="w"> </span><span class="m">1</span><span class="p">)</span>
<span class="w">      </span><span class="nv">uncover</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="kt">{</span><span class="p">(</span><span class="nv">in_bounds</span><span class="w"> </span><span class="bp">⍵</span><span class="p">)</span><span class="o">=</span><span class="m">0</span><span class="bp">:</span><span class="w"> </span><span class="no">⍬</span><span class="w"> </span><span class="p">⋄</span><span class="w"> </span><span class="bp">⍵</span><span class="o">⌷</span><span class="nv">adjacency</span><span class="o">=</span><span class="m">0</span><span class="bp">:</span><span class="w"> </span><span class="p">(</span><span class="o">⊂</span><span class="bp">⍵</span><span class="p">)</span><span class="o">,</span><span class="w"> </span><span class="nv">uncover</span><span class="na">¨</span><span class="p">((</span><span class="o">⊂</span><span class="bp">⍵</span><span class="p">)</span><span class="o">+</span><span class="na">¨</span><span class="nv">directions</span><span class="p">)</span><span class="w"> </span><span class="p">⋄</span><span class="w"> </span><span class="bp">⍵</span><span class="kt">}</span>

<span class="w">      </span><span class="nv">board</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="p">(</span><span class="m">0</span><span class="na">@</span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">⍳</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">3</span><span class="p">))(</span><span class="m">5</span><span class="w"> </span><span class="m">5</span><span class="p">)</span><span class="o">⍴</span><span class="m">1</span>
<span class="w">      </span><span class="nv">board</span>
<span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span>
<span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span>
<span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span>
<span class="m">1</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span>
<span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span>
<span class="w">      </span><span class="nv">adjacency</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="p">(</span><span class="kt">{</span><span class="o">+</span><span class="na">/</span><span class="o">,</span><span class="bp">⍵</span><span class="kt">}</span><span class="na">⌺</span><span class="m">3</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="nv">board</span><span class="w"> </span>
<span class="w">      </span><span class="nv">adjacency</span>
<span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">3</span>
<span class="m">4</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">4</span>
<span class="m">3</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">3</span>
<span class="m">4</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">4</span>
<span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">3</span>
<span class="w">      </span><span class="nv">uncover</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">3</span>
<span class="err">┌───┬───┬───┬───┬───┬───┬───┬───┬───┐</span>
<span class="err">│</span><span class="m">3</span><span class="w"> </span><span class="m">3</span><span class="err">│</span><span class="m">4</span><span class="w"> </span><span class="m">3</span><span class="err">│</span><span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="err">│</span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="err">│</span><span class="m">3</span><span class="w"> </span><span class="m">2</span><span class="err">│</span><span class="m">4</span><span class="w"> </span><span class="m">4</span><span class="err">│</span><span class="m">2</span><span class="w"> </span><span class="m">2</span><span class="err">│</span><span class="m">4</span><span class="w"> </span><span class="m">2</span><span class="err">│</span><span class="m">2</span><span class="w"> </span><span class="m">4</span><span class="err">│</span>
<span class="err">└───┴───┴───┴───┴───┴───┴───┴───┴───┘</span>
</code></pre></div>
<p>The uncover function constructs a list of indices to mark as uncovered. The function first checks if the index is within the right bounds, if not it returns an empty array. If it is in the right bounds and it has no adjacent mines, then it returns the index catenated to the result of uncovering the tiles in all directions (since a tile with no adjacent mines needs to uncover all adjacent tiles), otherwise it just returns the index of the tile. Notice how the enclose functions is used here to apply <code>+</code> between <code>⍵</code> and every direction.</p>
<p>Finally, the <code>@</code> at operator can be used to replace the board indices to be uncovered with <code>¯1</code>.</p>
<div class="highlight"><pre><span></span><code><span class="w">      </span><span class="p">(</span><span class="m">¯1</span><span class="na">@</span><span class="p">(</span><span class="nv">uncover</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">3</span><span class="p">))</span><span class="nv">board</span>
<span class="m">1</span><span class="w">  </span><span class="m">1</span><span class="w">  </span><span class="m">1</span><span class="w">  </span><span class="m">1</span><span class="w"> </span><span class="m">1</span>
<span class="m">1</span><span class="w"> </span><span class="m">¯1</span><span class="w"> </span><span class="m">¯1</span><span class="w"> </span><span class="m">¯1</span><span class="w"> </span><span class="m">1</span>
<span class="m">1</span><span class="w"> </span><span class="m">¯1</span><span class="w"> </span><span class="m">¯1</span><span class="w"> </span><span class="m">¯1</span><span class="w"> </span><span class="m">1</span>
<span class="m">1</span><span class="w"> </span><span class="m">¯1</span><span class="w"> </span><span class="m">¯1</span><span class="w"> </span><span class="m">¯1</span><span class="w"> </span><span class="m">1</span>
<span class="m">1</span><span class="w">  </span><span class="m">1</span><span class="w">  </span><span class="m">1</span><span class="w">  </span><span class="m">1</span><span class="w"> </span><span class="m">1</span>
</code></pre></div>
<p>Putting these functions in the Python code</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pynapl</span> <span class="kn">import</span> <span class="n">APL</span>
<span class="n">apl</span> <span class="o">=</span> <span class="n">APL</span><span class="o">.</span><span class="n">APL</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">new_board</span><span class="p">():</span>
    <span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;board ←  (16×30) ⍴ 0&quot;</span><span class="p">)</span>
    <span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;board ← (1 @ (99 ? 16×30)) board&quot;</span><span class="p">)</span>
    <span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;board ← 16 30 ⍴ board&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">calculate_adjacency</span><span class="p">():</span>
  <span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;adjacency ← ({+/,⍵}⌺3 3)board&quot;</span><span class="p">)</span>

<span class="n">apl</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="s2">&quot;in_bounds ← {(+/⍵&lt;⍴board)∧(∧/⍵&gt;(0 0))&gt;0}&quot;</span><span class="p">)</span>
<span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;directions ← (1 0)(0 1)(¯1 0)(0 ¯1)(1 1)(¯1 ¯1)(1 ¯1)(¯1 1)&quot;</span><span class="p">)</span>
<span class="n">apl</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="s2">&quot;uncover ← {(in_bounds ⍵)=0: ⍬ ⋄ ⍵⌷adjacency=0: (⊂⍵), uncover¨((⊂⍵)+¨directions) ⋄ ⍵}&quot;</span><span class="p">)</span>
<span class="n">is_mine</span> <span class="o">=</span> <span class="n">apl</span><span class="o">.</span><span class="n">fn</span><span class="p">(</span><span class="s2">&quot;{(⍵⌷board)=1}&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">uncover</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
  <span class="k">if</span><span class="p">(</span><span class="n">is_mine</span><span class="p">([</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">])):</span>
      <span class="c1"># Lose</span>
      <span class="k">return</span>
  <span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;board ← (¯1@(uncover ∆))board&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;board ← (0@(1 + ⍳ 3 3))(5 5)⍴1&quot;</span><span class="p">)</span>
<span class="n">calculate_adjacency</span><span class="p">();</span>
<span class="n">uncover</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
<span class="nb">print</span><span class="p">(</span><span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;board&quot;</span><span class="p">))</span>
</code></pre></div>
<p>The result is <code>[[1, 1, 1, 1, 1], [1, -1, -1, -1, 1], [1, -1, -1, -1, 1], [1, -1, -1, -1, 1], [1, 1, 1, 1, 1]]</code>, as is expected.</p>
<p>The last piece of logic needed is flagging, and win/loss states. We will create a separate board to keep track of tile icons, '⚑' for flags, '⛯' for mines, and numbers for adjacency numbers of uncovered tiles. We write a function that takes in a tile index to be flagged, and flags it if it is not already uncovered.</p>
<div class="highlight"><pre><span></span><code><span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;labels ← (⍴ board) ⍴ &#39; &#39;&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">flag</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">if</span><span class="p">(</span><span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;∆⌷board&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span><span class="o">!=-</span><span class="mi">1</span><span class="p">):</span> <span class="c1">#Not uncovered</span>
      <span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;∆⌷labels ← </span><span class="se">\&#39;</span><span class="s2">⚑</span><span class="se">\&#39;</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</code></pre></div>
<p>We also need to update the adjacency numbers shown to the player when more tiles are uncovered. The labels matrix should have the values in the adjacency matrix where the board matrix has a <code>¯1</code> value (where a tile is uncovered). First find where board is <code>¯1</code>, then selectively assign the adjacency values to the labels.</p>
<div class="highlight"><pre><span></span><code>      <span class="n">labels</span> <span class="err">←</span> <span class="p">(</span><span class="err">⍴</span> <span class="n">board</span><span class="p">)</span> <span class="err">⍴</span> <span class="s1">&#39; &#39;</span>
      <span class="n">board</span> <span class="err">←</span> <span class="mi">1</span> <span class="o">-</span><span class="err">⍨</span> <span class="err">?</span> <span class="mi">5</span> <span class="mi">5</span> <span class="err">⍴</span> <span class="mi">2</span>
      <span class="n">adjacency</span> <span class="err">←</span> <span class="p">({</span><span class="o">+/</span><span class="p">,</span><span class="err">⍵</span><span class="p">}</span><span class="err">⌺</span><span class="mi">3</span> <span class="mi">3</span><span class="p">)</span><span class="n">board</span>
      <span class="n">board</span>
<span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span>
<span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span>
<span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>
<span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span>
<span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span>
      <span class="n">adjacency</span>
<span class="mi">3</span> <span class="mi">3</span> <span class="mi">2</span> <span class="mi">2</span> <span class="mi">2</span>
<span class="mi">4</span> <span class="mi">5</span> <span class="mi">5</span> <span class="mi">5</span> <span class="mi">4</span>
<span class="mi">3</span> <span class="mi">4</span> <span class="mi">6</span> <span class="mi">5</span> <span class="mi">4</span>
<span class="mi">4</span> <span class="mi">5</span> <span class="mi">7</span> <span class="mi">5</span> <span class="mi">4</span>
<span class="mi">3</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">2</span> <span class="mi">2</span>

      <span class="n">board</span><span class="p">[</span><span class="mi">1</span><span class="p">;</span><span class="mi">3</span><span class="p">]</span> <span class="err">←</span> <span class="err">¯</span><span class="mi">1</span>
      <span class="n">board</span><span class="p">[</span><span class="mi">1</span><span class="p">;</span><span class="mi">4</span><span class="p">]</span> <span class="err">←</span> <span class="err">¯</span><span class="mi">1</span>
      <span class="n">board</span>
<span class="mi">1</span> <span class="mi">1</span> <span class="err">¯</span><span class="mi">1</span> <span class="err">¯</span><span class="mi">1</span> <span class="mi">1</span>
<span class="mi">1</span> <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">1</span> <span class="mi">0</span>
<span class="mi">0</span> <span class="mi">1</span>  <span class="mi">1</span>  <span class="mi">1</span> <span class="mi">1</span>
<span class="mi">0</span> <span class="mi">1</span>  <span class="mi">0</span>  <span class="mi">1</span> <span class="mi">0</span>
<span class="mi">1</span> <span class="mi">1</span>  <span class="mi">0</span>  <span class="mi">1</span> <span class="mi">0</span>
      <span class="n">board</span><span class="o">=</span><span class="err">¯</span><span class="mi">1</span>
<span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span>
<span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>

      <span class="p">((</span><span class="n">board</span><span class="o">=</span><span class="err">¯</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="err">¨</span><span class="n">labels</span><span class="p">)</span> <span class="err">←</span> <span class="n">adjacency</span>
      <span class="n">labels</span>
   <span class="mi">2</span> <span class="mi">2</span>  
</code></pre></div>
<p>Putting this in our uncover function</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">uncover</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
  <span class="k">if</span><span class="p">(</span><span class="n">is_mine</span><span class="p">([</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">])):</span>
      <span class="c1"># Lose</span>
      <span class="k">return</span>
  <span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;board ← (¯1@(uncover ∆))board&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
  <span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;((board=¯1)/¨labels) ← adjacency&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Revealing mines when the game is lost</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">uncover</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
  <span class="k">if</span><span class="p">(</span><span class="n">is_mine</span><span class="p">([</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">])):</span>
      <span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;((board=1)/¨labels) ← </span><span class="se">\&#39;</span><span class="s2">⛯</span><span class="se">\&#39;</span><span class="s2">&quot;</span><span class="p">)</span>
      <span class="c1"># Lose</span>
      <span class="k">return</span>
  <span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;board ← (¯1@(uncover ∆))board&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
  <span class="n">apl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;((board=¯1)/¨labels) ← adjacency&quot;</span><span class="p">)</span>
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "nagivation.top", "content.code.annotate"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.ad660dcc.min.js"></script>
      
        <script src="../../../js/mooc.js"></script>
      
        <script src="../../../js/languagebar.js"></script>
      
    
  </body>
</html>