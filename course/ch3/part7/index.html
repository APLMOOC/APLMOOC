
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../part6/">
      
      
        <link rel="next" href="../summary/">
      
      
      <link rel="icon" href="../../assets/_favicon.svg">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.29">
    
    
      
        <title>3.8 - All aboard! - APL MOOC</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.76a95c52.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CAPL385:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"APL385"}</style>
      
    
    
      <link rel="stylesheet" href="../../../styles/main.css">
    
      <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="purple" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#all-aboard" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="APL MOOC" class="md-header__button md-logo" aria-label="APL MOOC" data-md-component="logo">
      
  <img src="../../assets/_apl.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            APL MOOC
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              3.8 - All aboard!
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="purple" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../ch0/part1/" class="md-tabs__link">
          
  
  Course

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../progress/" class="md-tabs__link">
        
  
    
  
  Progress

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../account/" class="md-tabs__link">
        
  
    
  
  Account

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="APL MOOC" class="md-nav__button md-logo" aria-label="APL MOOC" data-md-component="logo">
      
  <img src="../../assets/_apl.svg" alt="logo">

    </a>
    APL MOOC
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Course
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Course
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    0 - The wonderful world of APL
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            0 - The wonderful world of APL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch0/part1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.1 - Quirky and different
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch0/part2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.2 - What's the big idea?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch0/part3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.3 - Useful resources
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch0/part4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.4 - About the course
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    1 - Getting your toes wet
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            1 - Getting your toes wet
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch1/part1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.1 - Immediate execution mode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch1/part2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.2 - Basic operations and input
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch1/part3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.3 - How do I type these characters?!?!?!?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch1/part4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.4 - Order of execution
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch1/part5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.5 - When things go wrong
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch1/summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.S - Summary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch1/read/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.R - Read exercises
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch1/write/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.W - Write exercises
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    2 - Array programming
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            2 - Array programming
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch2/part1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.1 - Assignment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch2/part2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.2 - Vectors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch2/part3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.3 - Arithmetic operations on vectors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch2/part4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.4 - Higher dimensional space
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch2/part5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.5 - Nested arrays
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch2/summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.S - Summary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch2/read/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.R - Read exercises
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch2/write/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.W - Write exercises
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" checked>
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    3 - Functions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            3 - Functions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.1 - Fun for everyone
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.2 - All the math
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.3 - Relational and Logical functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.5 - Installing Dyalog
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.6 - Traditional fun
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.7 - Infinite fun
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    3.8 - All aboard!
  </span>
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.S - Summary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../read/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.R - Read exercises
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../write/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.W - Write exercises
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bonus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.B - A Musical Interlude
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    4 - Vector functions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            4 - Vector functions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch4/part1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.1 - Creating vectors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch4/part2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.2 - Reductions and scans
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch4/part3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.3 - Order from chaos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch4/part4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.4 - Selecting from a vector
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch4/part5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.5 - Searching
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch4/summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.S - Summary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch4/read/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.R - Read exercises
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch4/write/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.W - Write exercises
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch4/bonus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.B - Rotating an image
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    5 - Higher dimensions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            5 - Higher dimensions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch5/part1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.1 - Elements of set theory
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch5/part2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.2 - Anything can be a scalar
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch5/part3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.3 - Choose your axis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch5/part4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.4 - I knew he swapped those numbers!
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch5/part5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.5 - More searching and selecting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch5/summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.S - Summary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch5/read/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.R - Read exercises
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch5/write/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.W - Write exercises
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch5/bonus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.B - Computer graphics
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    6 - Everything else you need to know
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            6 - Everything else you need to know
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch6/part1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.1 - String manipulation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch6/part2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.2 - Inner and outer products
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch6/part3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.3 - Encoding and decoding
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch6/part4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.4 - Operators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch6/part5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.5 - Choo choo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch6/summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.S - Summary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch6/read/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.R - Read exercises
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch6/write/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.W - Write exercises
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch6/bonus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.B - Minesweeper in APL and Python
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8" >
        
          
          <label class="md-nav__link" for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    7 - Programming in APL
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            7 - Programming in APL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch7/part1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.1 - Development environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch7/part2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.2 - Branching and looping
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch7/part3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.3 - Execute and format
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch7/part4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.4 - Writing interactive programs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch7/part5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.5 - File I/O
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch7/part6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.6 - External libraries
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch7/summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.S - Summary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ch7/project/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7.P - Programming project
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../progress/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Progress
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../account/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Account
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="all-aboard">All aboard!</h1>
<div class="admonition abstract">
<p class="admonition-title">This part will cover</p>
<ul>
<li>Forks and Atops</li>
<li>The tack functions</li>
<li>Reduce function</li>
</ul>
</div>
<hr />
<p>Before starting this section, we briefly introduce the commonly used monadic replicate / operator, which applies its left function argument between every element of a vector. More on this in Chapter 4.</p>
<div class="highlight"><pre><span></span><code><span class="w">       </span><span class="o">⍳</span><span class="m">10</span>
<span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="m">7</span><span class="w"> </span><span class="m">8</span><span class="w"> </span><span class="m">9</span><span class="w"> </span><span class="m">10</span>
<span class="w">       </span><span class="o">+</span><span class="na">/</span><span class="o">⍳</span><span class="m">10</span>
<span class="m">55</span>
<span class="w">       </span><span class="m">1</span><span class="o">+</span><span class="m">2</span><span class="o">+</span><span class="m">3</span><span class="o">+</span><span class="m">4</span><span class="o">+</span><span class="m">5</span><span class="o">+</span><span class="m">6</span><span class="o">+</span><span class="m">7</span><span class="o">+</span><span class="m">8</span><span class="o">+</span><span class="m">9</span><span class="o">+</span><span class="m">10</span>
<span class="m">55</span>
<span class="w">       </span><span class="o">-</span><span class="na">/</span><span class="o">⍳</span><span class="m">10</span>
<span class="m">¯5</span>
<span class="w">       </span><span class="m">1</span><span class="o">-</span><span class="m">2</span><span class="o">-</span><span class="m">3</span><span class="o">-</span><span class="m">4</span><span class="o">-</span><span class="m">5</span><span class="o">-</span><span class="m">6</span><span class="o">-</span><span class="m">7</span><span class="o">-</span><span class="m">8</span><span class="o">-</span><span class="m">9</span><span class="o">-</span><span class="m">10</span>
<span class="m">¯5</span>
<span class="w">       </span><span class="o">∧</span><span class="na">/</span><span class="o">⍳</span><span class="m">20</span><span class="w"> </span><span class="c1">⍝ LCM of numbers from 1 to 20</span>
<span class="m">2520</span>
</code></pre></div>
<p>Some other important functions are the dyadic right and left identity/“tack” functions which return their right or left arguments. They "point" towards which argument they return.</p>
<div class="highlight"><pre><span></span><code><span class="w">       </span><span class="s2">&quot;True&quot;</span><span class="o">⊣</span><span class="s2">&quot;False&quot;</span>
<span class="nv">True</span>
<span class="w">       </span><span class="s2">&quot;True&quot;</span><span class="o">⊢</span><span class="s2">&quot;False&quot;</span>
<span class="nv">False</span>
</code></pre></div>
<p>At this point, all the functions we've defined have explicitly referred to the left ⍺ and right ⍵ arguments, for example in the following function <code>range</code> which takes the difference of the largest and smallest values of a vector</p>
<div class="highlight"><pre><span></span><code><span class="w">      </span><span class="m">5</span><span class="w"> </span><span class="o">⌈</span><span class="w"> </span><span class="m">6</span>
<span class="m">6</span>

<span class="w">       </span><span class="m">5</span><span class="w"> </span><span class="o">⌈</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="o">⌈</span><span class="w"> </span><span class="m">7</span><span class="w"> </span><span class="o">⌈</span><span class="w"> </span><span class="m">8</span>
<span class="m">8</span>

<span class="w">      </span><span class="c1">⍝ Maximum between whole vector</span>
<span class="w">      </span><span class="o">⌈</span><span class="na">/</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="m">7</span><span class="w"> </span><span class="m">8</span>
<span class="m">8</span>

<span class="w">      </span><span class="nv">range</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="kt">{</span><span class="p">(</span><span class="o">⌈</span><span class="na">/</span><span class="bp">⍵</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="o">⌊</span><span class="na">/</span><span class="bp">⍵</span><span class="p">)</span><span class="kt">}</span>

<span class="w">      </span><span class="nv">range</span><span class="w"> </span><span class="m">80</span><span class="w"> </span><span class="m">49</span><span class="w"> </span><span class="m">56</span><span class="w"> </span><span class="m">60</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="m">99</span><span class="w"> </span><span class="m">23</span><span class="w"> </span><span class="m">19</span><span class="w"> </span><span class="m">24</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">50</span><span class="w"> </span><span class="m">7</span>
<span class="m">50</span>
</code></pre></div>
<p>or in the following function which takes the (weighted) average of a vector</p>
<div class="highlight"><pre><span></span><code><span class="w">      </span><span class="o">+</span><span class="na">/</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">100</span>
<span class="m">111</span>

<span class="w">      </span><span class="c1">⍝ Average</span>
<span class="w">      </span><span class="p">(</span><span class="o">+</span><span class="na">/</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">100</span><span class="p">)</span><span class="w"> </span><span class="o">÷</span><span class="w"> </span><span class="m">3</span>
<span class="m">37</span>

<span class="w">      </span><span class="nv">avg</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="kt">{</span><span class="p">(</span><span class="o">+</span><span class="na">/</span><span class="bp">⍵</span><span class="p">)</span><span class="o">÷⍴</span><span class="bp">⍵</span><span class="kt">}</span>

<span class="w">      </span><span class="nv">avg</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">100</span>
<span class="m">37</span>

<span class="w">      </span><span class="c1">⍝ Weighing the average by 1 1 1</span>
<span class="w">      </span><span class="p">(</span><span class="o">+</span><span class="na">/</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="o">×</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="o">÷</span><span class="w"> </span><span class="p">(</span><span class="o">+</span><span class="na">/</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="p">)</span>
<span class="m">37</span>

<span class="w">      </span><span class="c1">⍝ Weighing the average by 2 3 4</span>
<span class="w">      </span><span class="p">(</span><span class="o">+</span><span class="na">/</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="o">×</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="p">)</span><span class="w"> </span><span class="o">÷</span><span class="w"> </span><span class="p">(</span><span class="o">+</span><span class="na">/</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="p">)</span>
<span class="m">48</span>

<span class="w">      </span><span class="nv">weighted_avg</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="kt">{</span><span class="o">+</span><span class="na">/</span><span class="p">(</span><span class="bp">⍺</span><span class="o">×</span><span class="bp">⍵</span><span class="p">)</span><span class="o">÷</span><span class="p">(</span><span class="o">+</span><span class="na">/</span><span class="bp">⍺</span><span class="p">)</span><span class="kt">}</span>

<span class="w">      </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="nv">weighted_avg</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">100</span>
<span class="m">48</span>
</code></pre></div>
<p>in the "plus or minus" function and rounded (or floored) division function</p>
<div class="highlight"><pre><span></span><code><span class="w">      </span><span class="nv">plusminus</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="kt">{</span><span class="p">(</span><span class="bp">⍺</span><span class="o">-</span><span class="bp">⍵</span><span class="p">)</span><span class="o">,</span><span class="bp">⍺</span><span class="o">,</span><span class="bp">⍺</span><span class="o">+</span><span class="bp">⍵</span><span class="kt">}</span>

<span class="w">       </span><span class="m">5.7</span><span class="w"> </span><span class="nv">plusminus</span><span class="w"> </span><span class="m">0.5</span>
<span class="m">5.05</span><span class="w"> </span><span class="m">5.7</span><span class="w"> </span><span class="m">6.35</span>

<span class="w">      </span><span class="nv">round_div</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="kt">{</span><span class="o">⌊</span><span class="m">0.5</span><span class="o">+</span><span class="bp">⍺</span><span class="o">÷</span><span class="bp">⍵</span><span class="kt">}</span>

<span class="w">      </span><span class="m">1</span><span class="w"> </span><span class="nv">round_div</span><span class="w"> </span><span class="m">3</span>
<span class="m">0</span>

<span class="w">      </span><span class="m">2</span><span class="w"> </span><span class="nv">round_div</span><span class="w"> </span><span class="m">3</span>
<span class="m">1</span>

<span class="w">      </span><span class="nv">floor_div</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="kt">{</span><span class="o">⌊</span><span class="bp">⍺</span><span class="o">÷</span><span class="bp">⍵</span><span class="kt">}</span>

<span class="w">      </span><span class="m">2</span><span class="w"> </span><span class="nv">floor_div</span><span class="w"> </span><span class="m">3</span>
<span class="m">0</span>

<span class="w">      </span><span class="m">4</span><span class="w"> </span><span class="nv">floor_div</span><span class="w"> </span><span class="m">3</span>
<span class="m">1</span>
</code></pre></div>
<p>All of these functions can instead be expressed in terms of special combinations of functions, without referring to the arguments ⍺ and ⍵ at all! Just like magic, it takes some time to learn, but once you do it reveals a rich world of programming spells.</p>
<p>This style of programming is called tacit or "point-free" programming, borrowed from mathematics where it means taking data described using points to be more fundamental than the points themselves, avoiding the need to refer to points explicitly. In this case, taking functions to be more fundamental than their description in terms of explicit arguments. These point-free functions are called trains. </p>
<p>There are two fundamental types of trains which can be created by stringing functions together, more advanced trains will be covered in Chapter 6. The most basic train is the 2-train (fg), in operator form f⍤g, called an atop. The atop evaluates the function f on the result of g applied to the arguments of the train.</p>
<p>The following image shows three equivalent forms of the atop, the first being the APL syntax for the atop, the second being a tree-like representation of the atop where the evaluation happens from bottom to top, and the third is the atop in traditional mathematical notation.</p>
<p><img src="../../assets/3_9_atop.png" style="width:50%; margin-left: auto; margin-right: auto; display: block;" /></p>
<p>Floored division can be conveniently expressed as an atop.
<div class="highlight"><pre><span></span><code><span class="w">       </span><span class="m">12</span><span class="o">÷</span><span class="m">5</span>
<span class="m">2.4</span>
<span class="w">       </span><span class="o">⌊</span><span class="m">2.4</span>
<span class="m">2</span>
<span class="w">       </span><span class="m">12</span><span class="p">(</span><span class="o">⌊÷</span><span class="p">)</span><span class="m">5</span>
<span class="m">2</span>
</code></pre></div></p>
<p>The second fundamental type of train is the 3-train (fgh), called a fork.</p>
<p><img src="../../assets/3_9_fork.png" style="width:50%; margin-left: auto; margin-right: auto; display: block;" /></p>
<p>When acting on arguments <code>⍺</code> and <code>⍵</code>, it applies g dyadically to <code>⍺f⍵</code> and <code>⍺h⍵</code>. </p>
<p>The motivation for this specific definition is to match with mathematics, where it is possible to write f+g to get the sum of the values of the functions f and g.</p>
<div class="admonition info">
<p class="admonition-title">Train trees</p>
<p>The ]Box user command controls how trains are displayed, it is beneficial to set -trains=tree to see a tree-like representation of trains.</p>
<div class="highlight"><pre><span></span><code><span class="w">      </span><span class="nv">f</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="kt">{</span><span class="na">...</span><span class="kt">}</span>
<span class="w">      </span><span class="nv">g</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="kt">{</span><span class="na">...</span><span class="kt">}</span>

<span class="w">      </span><span class="nv">f</span><span class="o">+</span><span class="nv">g</span>
<span class="nv">f</span><span class="o">+</span><span class="nv">g</span>

<span class="w">      </span><span class="sr">]</span><span class="nv">Box</span><span class="w"> </span><span class="nv">ON</span>
<span class="nv">Was</span><span class="w"> </span><span class="nv">OFF</span>
<span class="w">      </span><span class="sr">]</span><span class="nv">Box</span><span class="w"> </span><span class="o">-</span><span class="nv">trains</span><span class="o">=</span><span class="nv">tree</span>
<span class="nv">Was</span><span class="w"> </span><span class="o">-</span><span class="nv">trains</span><span class="o">=</span><span class="nv">box</span>

<span class="w">      </span><span class="nv">f</span><span class="o">+</span><span class="nv">g</span>
<span class="err">┌─┼─┐</span>
<span class="nv">f</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">g</span>
</code></pre></div>
<p>Forks here look like forks! The trees are read from bottom up, if there are only two functions at the end of a branch, the result of the right function is applied to the left function, if there are three functions, the middle function is applied to the result of the right and left functions. The values then go up the tree until it reaches the root, at which point it is returned.</p>
</div>
<p>Most of the above functions can be expressed as combinations of forks and atops, let's take a look at a few important cases.</p>
<p>The range function is the most straightforward example, it can be written as a single fork</p>
<div class="highlight"><pre><span></span><code><span class="w">      </span><span class="nv">range</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="kt">{</span><span class="p">(</span><span class="o">⌈</span><span class="na">/</span><span class="bp">⍵</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="o">⌊</span><span class="na">/</span><span class="bp">⍵</span><span class="p">)</span><span class="kt">}</span>
<span class="w">      </span><span class="c1">⍝ is equivalent to</span>
<span class="w">      </span><span class="nv">range</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="o">⌈</span><span class="na">/</span><span class="o">-⌊</span><span class="na">/</span>
<span class="w">      </span><span class="nv">range</span>
<span class="w">  </span><span class="err">┌─┼─┐</span>
<span class="w">  </span><span class="na">/</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="na">/</span>
<span class="err">┌─┘</span><span class="w"> </span><span class="err">┌─┘</span>
<span class="o">⌈</span><span class="w">   </span><span class="o">⌊</span>
</code></pre></div>
<p>The functions f and h here are the maximum <code>⌈/</code> and the minumum <code>⌊/</code>, with g being the difference <code>-</code>. When only given a right argument, the above range function evaluates the maximum <code>⌈/⍵</code> and the minimum <code>⌊/⍵</code>, then takes the difference <code>-</code> between them, as is intended.</p>
<p>An example of a fork over a fork is the <code>plusminus</code> function,</p>
<div class="highlight"><pre><span></span><code><span class="w">      </span><span class="nv">plusminus</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="kt">{</span><span class="p">(</span><span class="bp">⍺</span><span class="o">-</span><span class="bp">⍵</span><span class="p">)</span><span class="o">,</span><span class="bp">⍺</span><span class="o">,</span><span class="bp">⍺</span><span class="o">+</span><span class="bp">⍵</span><span class="kt">}</span>
<span class="w">      </span><span class="c1">⍝ is equivalent to</span>
<span class="w">      </span><span class="nv">plusminus</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="o">-,⊣,+</span>
<span class="w">      </span><span class="c1">⍝ or with redundant parentheses -,(⊣,+)</span>
<span class="w">      </span><span class="nv">plusminus</span>
<span class="err">┌─┼───┐</span>
<span class="o">-</span><span class="w"> </span><span class="o">,</span><span class="w"> </span><span class="err">┌─┼─┐</span>
<span class="w">    </span><span class="o">⊣</span><span class="w"> </span><span class="o">,</span><span class="w"> </span><span class="o">+</span>
</code></pre></div>
<p>From the tree representation of plusminus, it is first seen that the function evaluates <code>⊣</code> and <code>+</code> to the arguments <code>⍺</code> and <code>⍵</code>, then applies <code>,</code> between them. The result is then applied to the <code>,</code> above, with the result of <code>-</code>. The result is <code>(⍺-⍵),((⍺⊣⍵),(⍺+⍵))</code> which is exactly <code>(⍺-⍵),⍺,⍺+⍵</code>. </p>
<p>The reason plusminus is interpreted as a fork over a fork is that APL function evaluation is always read from right to left. This extends to longer trains where, for example, (f g h i j k) is interpreted as (f (g h (i j k))), an atop over a fork over a fork.</p>
<p>The rounded division function can be written as an atop over an atop,</p>
<div class="highlight"><pre><span></span><code><span class="w">      </span><span class="nv">round_div</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="kt">{</span><span class="o">⌊</span><span class="m">0.5</span><span class="o">+</span><span class="bp">⍺</span><span class="o">÷</span><span class="bp">⍵</span><span class="kt">}</span>
<span class="w">      </span><span class="c1">⍝ is expected to be equivalent to</span>
<span class="w">      </span><span class="o">⌊</span><span class="p">((</span><span class="m">0.5</span><span class="o">+</span><span class="p">)</span><span class="o">÷</span><span class="p">)</span>
<span class="nv">SYNTAX</span><span class="w"> </span><span class="nv">ERROR</span><span class="bp">:</span><span class="w"> </span><span class="nv">Missing</span><span class="w"> </span><span class="nv">right</span><span class="w"> </span><span class="nv">argument</span>
<span class="w">      </span><span class="o">⌊</span><span class="p">((</span><span class="m">0.5</span><span class="o">+</span><span class="p">)</span><span class="o">÷</span><span class="p">)</span>
<span class="w">            </span><span class="o">∧</span>
</code></pre></div>
<p>What's going on here? The reason this doesn't work is that <code>⌊((0.5+)÷)</code> is not purely composed of functions, it contains a value <code>0.5</code> and thus is not interpreted as a train. One way around this is to write <code>⌊({0.5+⍵}÷)</code>, which defeats the purpose of point-free programming. Instead, the bind <code>∘</code> function can be used to create a monadic function from a dyadic one. In this case, the dyadic function <code>+</code> is bound to the left argument <code>0.5</code> as <code>0.5∘+</code>, which is now a monadic function equivalent to <code>{0.5+⍵}</code>.</p>
<div class="highlight"><pre><span></span><code><span class="w">      </span><span class="nv">round_div</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="kt">{</span><span class="o">⌊</span><span class="m">0.5</span><span class="o">+</span><span class="bp">⍺</span><span class="o">÷</span><span class="bp">⍵</span><span class="kt">}</span>
<span class="w">      </span><span class="c1">⍝ is equivalent to</span>
<span class="w">      </span><span class="nv">round_div</span><span class="w"> </span><span class="kd">←</span><span class="w">  </span><span class="o">⌊</span><span class="p">(</span><span class="m">0.5</span><span class="na">∘</span><span class="o">+÷</span><span class="p">)</span>
<span class="w">      </span><span class="nv">round_div</span>
<span class="err">┌┴─┐</span>
<span class="o">⌊</span><span class="w"> </span><span class="err">┌┴┐</span>
<span class="w">  </span><span class="na">∘</span><span class="w"> </span><span class="o">÷</span>
<span class="err">┌─┴─┐</span>
<span class="m">0.5</span><span class="w"> </span><span class="o">+</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Move the rest to Chapter 6</p>
<p>The rest of this section should be adapted for chapter 6</p>
</div>
<hr />
<p>Some other important functions are the dyadic right and left identity/"tack" functions which return their right or left arguments.</p>
<p><div class="highlight"><pre><span></span><code><span class="w">       </span><span class="s1">&#39;True&#39;</span><span class="o">⊣</span><span class="s1">&#39;False&#39;</span>
<span class="nv">True</span>
<span class="w">       </span><span class="s1">&#39;True&#39;</span><span class="o">⊢</span><span class="s1">&#39;False&#39;</span>
<span class="nv">False</span>
</code></pre></div>
When applied monadically, they return their only argument.</p>
<p>Consider the following pairs of functions, implemented using dfns first, and trains second.</p>
<div class="highlight"><pre><span></span><code><span class="w">       </span><span class="nv">range_average</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="kt">{</span><span class="p">((</span><span class="o">⌈</span><span class="na">/</span><span class="bp">⍵</span><span class="p">)</span><span class="o">-⌊</span><span class="na">/</span><span class="bp">⍵</span><span class="p">)</span><span class="o">,</span><span class="p">(</span><span class="o">+</span><span class="na">/</span><span class="bp">⍵</span><span class="p">)</span><span class="o">÷≢</span><span class="bp">⍵</span><span class="kt">}</span>
<span class="w">       </span><span class="nv">range_average</span><span class="w"> </span><span class="m">5.48</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="m">5.63</span><span class="w"> </span><span class="m">6.02</span><span class="w"> </span><span class="m">5.37</span>
<span class="m">0.65</span><span class="w"> </span><span class="m">5.7</span>
<span class="w">         </span><span class="nv">range_average</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="p">(</span><span class="o">⌈</span><span class="na">/</span><span class="o">-⌊</span><span class="na">/</span><span class="p">)</span><span class="o">,+</span><span class="na">/</span><span class="o">÷≢</span>
<span class="w">       </span><span class="nv">range_average</span><span class="w"> </span><span class="m">5.48</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="m">5.63</span><span class="w"> </span><span class="m">6.02</span><span class="w"> </span><span class="m">5.37</span>
<span class="m">0.65</span><span class="w"> </span><span class="m">5.7</span>

<span class="w">       </span><span class="nv">plusminus</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="kt">{</span><span class="p">(</span><span class="bp">⍺</span><span class="o">-</span><span class="bp">⍵</span><span class="p">)</span><span class="o">,</span><span class="bp">⍺</span><span class="o">,</span><span class="bp">⍺</span><span class="o">+</span><span class="bp">⍵</span><span class="kt">}</span>
<span class="w">       </span><span class="m">5.7</span><span class="w"> </span><span class="nv">plusminus</span><span class="w"> </span><span class="m">0.65</span>
<span class="m">5.05</span><span class="w"> </span><span class="m">5.7</span><span class="w"> </span><span class="m">6.35</span>
<span class="w">       </span><span class="nv">plusminus</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="o">-,⊣,+</span>
<span class="w">       </span><span class="m">5.7</span><span class="w"> </span><span class="nv">plusminus</span><span class="w"> </span><span class="m">0.2</span>
<span class="m">5.5</span><span class="w"> </span><span class="m">5.7</span><span class="w"> </span><span class="m">5.9</span>
</code></pre></div>
<p>Notice that the arguments of the function were not referred to in the function trains, this style of programming is called tacit or "point-free" programming, borrowed from mathematics where it means taking data that can be described using points to be more fundamental than the points themselves, avoiding the need to refer to points explicitly. In this case, taking functions to be more fundamental than their description in terms of explicit arguments,</p>
<p>The most basic train is the 2-train (fg), in operator form f⍤g, called an atop. The atop evaluates the function f monadically on the result of g applied to the arguments of the train.</p>
<p>The following image is composed of three parts, the first being the APL syntax for the atop, the second being a tree-like representation of the atop where the evaluation happens from bottom to top, and the third is the atop in traditional mathematical notation.</p>
<p><img src="../../assets/3_9_atop.png" style="width:50%; margin-left: auto; margin-right: auto; display: block;" /></p>
<div class="admonition info">
<p class="admonition-title">Trains in RIDE</p>
<p>It is possible to make sense of trains by rendering them in various forms in the RIDE editor using the -trains option to the Box user command. For example, it is possible to render trains as trees using the following command.
<div class="highlight"><pre><span></span><code><span class="sr">]</span><span class="nv">Box</span><span class="w"> </span><span class="nv">on</span><span class="w"> </span><span class="o">-</span><span class="nv">trains</span><span class="o">=</span><span class="nv">tree</span>
</code></pre></div>
You can use the help ]? command to get help for any user command in RIDE.</p>
</div>
<p>Floored division can be conveniently expressed as an atop.
<div class="highlight"><pre><span></span><code><span class="w">       </span><span class="m">12</span><span class="o">÷</span><span class="m">5</span>
<span class="m">2.4</span>
<span class="w">       </span><span class="o">⌊</span><span class="m">2.4</span>
<span class="m">2</span>
<span class="w">       </span><span class="m">12</span><span class="p">(</span><span class="o">⌊÷</span><span class="p">)</span><span class="m">5</span>
<span class="m">2</span>
</code></pre></div>
A very similar composition is achieved using the Beside operator, f∘g. </p>
<p><img src="../../assets/3_9_beside.png" style="width:50%; margin-left: auto; margin-right: auto; display: block;" /></p>
<p>More simply, the expression ⍺(f∘g)⍵ evaluates to ⍺fg⍵, and recalling that APL is right associative, is ⍺f(g⍵).
<div class="highlight"><pre><span></span><code><span class="w">       </span><span class="nv">matrix</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="o">⍴</span><span class="w"> </span><span class="p">(</span><span class="m">3</span><span class="o">|⍳</span><span class="m">9</span><span class="p">)</span>
<span class="w">       </span><span class="nv">matrix</span>
<span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">0</span>
<span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">0</span>
<span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">0</span>
<span class="w">       </span><span class="o">⍉</span><span class="w"> </span><span class="nv">matrix</span><span class="w"> </span><span class="c1">⍝ Transpose</span>
<span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span>
<span class="m">2</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">2</span>
<span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
<span class="w">       </span><span class="c1">⍝ Beside of matrix multiplication (+.×) and transpose (⍉)</span>
<span class="w">       </span><span class="nv">matrix</span><span class="w"> </span><span class="p">(</span><span class="o">+</span><span class="na">.</span><span class="o">×</span><span class="p">)</span><span class="na">∘</span><span class="o">⍉</span><span class="w"> </span><span class="nv">matrix</span>
<span class="m">5</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">5</span>
<span class="m">5</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">5</span>
<span class="m">5</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">5</span>
<span class="w">       </span><span class="nv">matrix</span><span class="w"> </span><span class="p">(</span><span class="o">+</span><span class="na">.</span><span class="o">×</span><span class="p">)</span><span class="o">⍉</span><span class="w"> </span><span class="nv">matrix</span>
<span class="m">5</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">5</span>
<span class="m">5</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">5</span>
<span class="m">5</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">5</span>

<span class="w">       </span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="na">/</span><span class="o">×</span><span class="p">)</span><span class="na">∘</span><span class="o">⊖</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="c1">⍝ Cross product</span>
<span class="m">¯5</span>
<span class="w">       </span><span class="c1">⍝ A beside of an atop and a function</span>
<span class="w">       </span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="na">/</span><span class="o">×</span><span class="p">)</span><span class="o">⊖</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">1</span>
<span class="m">¯5</span>
</code></pre></div></p>
<p>Notice that in the last statement, the atop <code>-/×</code> and function <code>⊖</code> were composed into an atop. Since the atop <code>-/×</code> is a functions in its own right, it can be used as part of larger trains.</p>
<p>The Over <code>⍥</code> operator, <code>f⍥g</code>, applies f to the value of g applied to each of its arguments.</p>
<p><img src="../../assets/3_9_over.png" style="width:50%; margin-left: auto; margin-right: auto; display: block;" /></p>
<p>The decibel conversion from the start of this chapter can be easily written in this form.</p>
<div class="highlight"><pre><span></span><code><span class="w">       </span><span class="nv">dB_to_ratio</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="kt">{</span><span class="m">10</span><span class="o">*</span><span class="bp">⍵</span><span class="o">÷</span><span class="m">10</span><span class="kt">}</span>
<span class="w">       </span><span class="nv">ratio_to_dB</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="kt">{</span><span class="m">10</span><span class="o">×</span><span class="m">10</span><span class="o">⍟</span><span class="bp">⍵</span><span class="kt">}</span>
<span class="w">       </span><span class="c1">⍝Over of an atop and a function</span>
<span class="w">       </span><span class="m">60</span><span class="w"> </span><span class="p">(</span><span class="nv">ratio_to_dB</span><span class="o">÷</span><span class="p">)</span><span class="na">⍥</span><span class="nv">dB_to_ratio</span><span class="w"> </span><span class="m">30</span>
<span class="m">30</span>
<span class="w">       </span><span class="nv">ratio_to_dB</span><span class="w"> </span><span class="p">((</span><span class="nv">dB_to_ratio</span><span class="w"> </span><span class="m">60</span><span class="p">)</span><span class="w"> </span><span class="o">÷</span><span class="w"> </span><span class="nv">dB_to_ratio</span><span class="w"> </span><span class="m">30</span><span class="p">)</span>
<span class="m">13.01029996</span>

<span class="w">       </span><span class="nv">reciprocal_sum</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="kt">{</span><span class="o">÷</span><span class="p">(</span><span class="o">÷</span><span class="bp">⍺</span><span class="p">)</span><span class="o">+÷</span><span class="bp">⍵</span><span class="kt">}</span>
<span class="w">       </span><span class="m">1</span><span class="w"> </span><span class="nv">reciprocal_sum</span><span class="w"> </span><span class="m">2</span>
<span class="m">0.6666666667</span>
<span class="w">       </span><span class="nv">reciprocal_sum</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="p">(</span><span class="o">÷+</span><span class="p">)</span><span class="na">⍥</span><span class="o">÷</span>
<span class="w">       </span><span class="m">1</span><span class="w"> </span><span class="nv">reciprocal_sum</span><span class="w"> </span><span class="m">2</span>
<span class="m">0.6666666667</span>

<span class="w">       </span><span class="nv">hypotenuse</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="kt">{</span><span class="p">((</span><span class="bp">⍺</span><span class="o">*</span><span class="m">2</span><span class="p">)</span><span class="o">+</span><span class="bp">⍵</span><span class="o">*</span><span class="m">2</span><span class="p">)</span><span class="o">*</span><span class="m">0.5</span><span class="kt">}</span>
<span class="w">       </span><span class="m">3</span><span class="w"> </span><span class="nv">hypotenuse</span><span class="w"> </span><span class="m">4</span>
<span class="m">5</span>
<span class="w">       </span><span class="nv">hypotenuse</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="m">0.5</span><span class="o">+</span><span class="p">)</span><span class="na">⍥</span><span class="p">(</span><span class="o">*</span><span class="m">2</span><span class="p">)</span>
<span class="nv">SYNTAX</span><span class="w"> </span><span class="nv">ERROR</span>
<span class="w">      </span><span class="nv">hypotenuse</span><span class="kd">←</span><span class="p">(</span><span class="o">*</span><span class="m">0.5</span><span class="o">+</span><span class="p">)</span><span class="na">⍥</span><span class="p">(</span><span class="o">*</span><span class="m">2</span><span class="p">)</span>
<span class="w">                      </span><span class="o">∧</span>
</code></pre></div>
<p>When trying to adapt the hypotenuse function to point-free programming, a seemingly strange error appears complaining about syntax of our train. However, this error should not seem so bizzare after some thought, because the expression <code>(* 0.5 +)</code> is not a function, in fact, <code>(* 0.5 +)</code> evaluates to <code>(1.648721271+)</code> since the <code>*</code> function here is interpreted to act monadically on 0.5. In order to attach the value 0.5 to <code>*</code> and turn the dyadic <code>*</code> into a monadic <code>{⍵*0.5}</code>, the bind <code>∘</code> operator can be used.</p>
<div class="highlight"><pre><span></span><code><span class="w">       </span><span class="nv">hypotenuse</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="na">∘</span><span class="m">0.5</span><span class="o">+</span><span class="p">)</span><span class="na">⍥</span><span class="p">(</span><span class="o">*</span><span class="na">∘</span><span class="m">2</span><span class="p">)</span>
<span class="w">       </span><span class="m">3</span><span class="w"> </span><span class="nv">hypotenuse</span><span class="w"> </span><span class="m">4</span>
<span class="m">5</span>
</code></pre></div>
<p>Another form of the hypotenuse function is obtained by taking the magnitude of a complex number, with real and imaginary parts the arguments of the function.</p>
<div class="highlight"><pre><span></span><code><span class="w">           </span><span class="nv">complex</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="o">+</span><span class="na">/</span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="m">0J1</span><span class="p">)</span><span class="na">∘</span><span class="o">×</span>
<span class="w">           </span><span class="nv">complex</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span>
<span class="m">3J4</span>
<span class="w">           </span><span class="nv">hypotenuse</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="o">|</span><span class="nv">complex</span>
<span class="w">           </span><span class="nv">hypotenuse</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span>
<span class="m">5</span>
<span class="w">         </span><span class="nv">hypotenuse</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="o">|</span><span class="p">(</span><span class="o">+</span><span class="na">/</span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="m">0J1</span><span class="p">)</span><span class="na">∘</span><span class="o">×</span><span class="p">)</span>
<span class="w">         </span><span class="nv">hypotenuse</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span>
<span class="m">5</span>
<span class="w">         </span><span class="nv">hypotenuse</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="o">|</span><span class="na">⍤</span><span class="o">+</span><span class="na">/</span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="m">0J1</span><span class="p">)</span><span class="na">∘</span><span class="o">×</span>
<span class="w">         </span><span class="nv">hypotenuse</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span>
<span class="m">5</span>
</code></pre></div>
<p>Another form of the hypotenuse function is obtained by taking the magnitude of a complex number, with real and imaginary parts the arguments of the function.</p>
<p>Let’s take a closer look at the trains at the beginning of this section, applied to vector values.</p>
<div class="highlight"><pre><span></span><code><span class="w">       </span><span class="nv">range_average</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="p">(</span><span class="o">⌈</span><span class="na">/</span><span class="o">-⌊</span><span class="na">/</span><span class="p">)</span><span class="o">,+</span><span class="na">/</span><span class="o">÷≢</span>
<span class="w">       </span><span class="nv">plusminus</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="o">-,⊣,+</span>
</code></pre></div>
<p>Starting with range_average, we start reading from right to left identifying forks and atops. We first identify the 3-train <code>+/÷≢</code>, which takes the sum <code>+/</code> of the elements of a vector and divides <code>÷</code> by the length <code>≢</code> of the vector, <code>{(+/⍵)÷(≢⍵)}</code> as a function which takes an average.</p>
<p><img src="../../assets/3_9_fork.png" style="width:50%; margin-left: auto; margin-right: auto; display: block;" /></p>
<div class="highlight"><pre><span></span><code><span class="w">       </span><span class="nv">avg</span><span class="kd">←</span><span class="o">+</span><span class="na">/</span><span class="o">÷≢</span>
<span class="w">       </span><span class="nv">range_average</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="p">(</span><span class="o">⌈</span><span class="na">/</span><span class="o">-⌊</span><span class="na">/</span><span class="p">)</span><span class="o">,</span><span class="nv">avg</span>
</code></pre></div>
<p>Then, the 3-train <code>(⌈/-⌊/)</code> takes the maximum <code>⌈/</code> and subtracts <code>-</code> by the minimum <code>⌊/</code>, <code>{(⌈/⍵)-(⌊/⍵)}</code>, which gives the range of a series of values.
<div class="highlight"><pre><span></span><code><span class="w">       </span><span class="nv">avg</span><span class="kd">←</span><span class="o">+</span><span class="na">/</span><span class="o">÷≢</span>
<span class="w">       </span><span class="nv">range</span><span class="kd">←</span><span class="o">⌈</span><span class="na">/</span><span class="o">-⌊</span><span class="na">/</span>
<span class="w">       </span><span class="nv">range_average</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="nv">range</span><span class="o">,</span><span class="nv">avg</span>
</code></pre></div></p>
<p>Then it’s clear in this form that the function range_average takes the range and average of a series of values and returns both values in the form of a vector.</p>
<p>The plus_minus function can be analysed similarly.</p>
<div class="highlight"><pre><span></span><code><span class="w">       </span><span class="nv">plusminus</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="o">-,⊣,+</span>
<span class="w">       </span><span class="nv">plusminus</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="o">-,</span><span class="p">(</span><span class="o">⊣,+</span><span class="p">)</span>
<span class="w">       </span><span class="nv">plusminus</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="o">-,</span><span class="kt">{</span><span class="bp">⍵</span><span class="o">,</span><span class="bp">⍺</span><span class="o">+</span><span class="bp">⍵</span><span class="kt">}</span>
<span class="w">       </span><span class="nv">plusminus</span><span class="w"> </span><span class="kd">←</span><span class="w"> </span><span class="kt">{</span><span class="p">(</span><span class="bp">⍺</span><span class="o">-</span><span class="bp">⍵</span><span class="p">)</span><span class="o">,</span><span class="p">(</span><span class="bp">⍵</span><span class="o">,</span><span class="bp">⍺</span><span class="o">+</span><span class="bp">⍵</span><span class="p">)</span><span class="kt">}</span>
</code></pre></div>
<p>More generally, for an n-train of functions <code>(f g h k l m … w x y z)</code>, </p>
<ul>
<li><code>(f g h k l m … t u v w x y z)</code> is interpreted as <code>(f g h k l m … t u v w (x y z))</code>, which can be interpreted again as <code>(f g h k l m … t u (v w (x y z)))</code>, and further recursively.</li>
<li>If the number of functions is odd, then the result is of the form of forks over forks<ul>
<li><code>(f g (h k (l m … (t u (v w (x y z))))…)</code></li>
</ul>
</li>
<li>If the number of functions is even, then the result is an atop over forks<ul>
<li><code>(f (g h (k l (m … (t u (v w (x y z))))…)</code></li>
</ul>
</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "nagivation.top", "content.code.annotate"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
        <script src="../../../js/mooc.js"></script>
      
        <script src="../../../js/languagebar.js"></script>
      
        <script src="../../../js/katex.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/three@0.166.0/build/three.module.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/three@0.166.0/examples/jsm/"></script>
      
    
  </body>
</html>